## GIT
* Как добавить файлы в коммит? 
* Как добавить чанки? 
* Почему нельзя добавлять файлы по звезде или точке?
* Пуш. Что такое фастфовард? Чем опасен пуш с форсом?
* Ветвление. 
    * Как создать и удалить ветку, локально и в origin`е. 
    * Как привязать локальную ветку "a1" к удаленной ветке "b2", и пушить в нее? 
    * Как получить список комитов из локальной ветки, которую вы только что удалили?
    * Сколько веток может указывать на один коммит?
* Что такое мердж? 
    * Как его откатить? 
    * Какие бывают стратегия мерджа? 
    * Что такое ребейз? 
    * Зачем нужен пулл по ребейзу? 
    * Что такое черрипик?
* Как перименовать коммит? 
* Как удалить последний коммит? 
* Как удалить коммит из середины и запушить его? Вкаких случаях так можно делать, а в каких нет?
* Как пользоваться reflog?
* bisect
* Что такое хуки?

### Как добавить файлы в коммит? 

```
git add file
git commit -m “massage”
```

### Как добавить чанки?
TODO

### Почему нельзя добавлять файлы по звезде или точке?
TODO

### Пуш. Что такое фастфовард? 
[Ссылка на статью](habr.com/ru/post/195674)

### Чем опасен пуш с форсом?
```
push -f
```
Риск затоптать локальной версией выше расположенную ветку и все изменения которые к тому моменту не подтянули будут стёрты из истории.

### Ветвление. Как создать и удалить ветку, локально и в origin`е.
Создать ветку 
```
git branch mybranch или 
git checkout -b mybranch 
```
Удалить локально 
```
git branch -d mybranch
```
Удалить в origin
```
git push origin -d mybranch
```

### Как привязать локальную ветку  "a1" к  удаленной ветке "b2", и пушить в нее? 
```
git branch —set-upstream-to=origin/b2 b1
```
### Как получить список комитов из локальной ветки, которую вы только что удалили? 

TODO

### Сколько веток может  указывать на один коммит

TODO

### Что такое мердж? Как его откатить? Какие бывают стратегия мерджа? Что такое ребейз? Зачем нужен пулл по ребейзу? Что такое черрипик?

![rebase](/img/git-rebase.JPG)  
**git rebase** - это наложение коммитов поверх другого базового коммита. Позволяет предать истории ветки более упорядоченный вид.  


![merge](/img/git-merge.PNG	)
**git merge** - создает коммит слияния, в котором объединяются изменения из обеих веток, выбранных к слиянию.

#### откатить merge
откатить ветку master до коммита перед слиянием: git reset --hard commit-name
т.к. на гитхабе теперь есть коммиты, которых в вашей ветке нет, поэтому не получится автоматический fast-forward merge. Поможет git push -f. Эта команда заменяет содержимое удаленной ветки.

![cherry-pick](/img/cherry-pick.PNG)
git chery-pick idea - забрать коммиты из ветки idea

           
### стратегии merge

TODO 

###  пулл по ребейзу

TODO

### Как переименовать коммит? Как удалить последний? Как удалить коммит из середины и запушить его? В каких случаях так можно делать, а в каких нет?
            
#### переименовать коммит
Чтобы изменить имя последнего коммита:
```
git commit --amend -m "Новое название"
```
Для изменения имени других коммитов:
```
git commit --amend -c <commit ID>
```
После этого придётся явным образом переписать ветку master на удаленном репозитории (на GitHub). Поскольку история коммитов разошлась, GitHub не примет изменения просто так, нужно добавить ключ --force:
```
git push --force origin <имя ветки на удаленном репозитории>
```
Осторожно: в общем случае команда push --force опасна, так как переписывает состояние ветки на удаленном репозитории и может привести к потерям.

####  удалить последний коммит
Отменить последний коммит, но сохранить изменения:
```
git reset HEAD~
```
Удалить последний коммит и откатить изменения:
```
git reset —hard HEAD~
```
Команда git reset откатывает HEAD до определенного состояния.
В нашем случае она откатывает HEAD до HEAD~ (сокращенно от HEAD~1), что означает состояние на один коммит старше чем HEAD

#### удалить коммит из середины и запушить его.
```
git rebase -i HEAD~6
```
Вместо HEAD~6 (шесть коммитов назад), можете взять хеш любого коммита перед коммитом откроется вим или другой редактор. Там будет список коммитов. Теперь удаляем ненужные коммиты (просто удаляем строки). Если это вим, тогда просто нажимаем дважды d на нужных строках (то есть тех, которых нужно удалить) и выходим с редактора.    
После этого git откатит эти коммиты и накатит их по новому.    
Вполне возможно, что нужно будет по ходу дела решать конфликты.  
Помните, что на самом деле старые коммиты никуда не уйдут, просто будут созданы новые коммиты. Если эти коммиты уже были запушены на удаленный сервер, то лучше не делать подобного. Но если над проектом работаете только Вы, то нет ничего страшного. Но пуш придется делать форсированным (-f).
* Можно если работа ведётся локально
* Нельзя если данные коммиты запущены и загружены другими разработчиками.  
(так как при перезаписи создаются новые коммиты, у коллег будут дубликаты)

### Как пользоваться reflog?
Возврат в фиксированную точку во времени (отменив все действия от текущего момента)
```
git reflog
```
Смотрим последние изменения.
```
git reflog -n 10
```
Смотрим последние 10 изменений
```
git reset —hard HEAD@{5}
```
(Для windows могут понадобиться кавычки)
```
git reset — "hard HEAD@{5}"
```
Флаг —hard   
Означает, что добавленные изменения будут удалены  
(если откатываемые изменения содержат добавленный файл, то данный файл будет удалён)
Флаг —soft  
Означает, что после отката коммита файл останется как не зафиксированные изменения.

### bisect
Возможность бинарного поиска по коммитам
1. Запуск механизма и установка состояния проекта "нерабочее"
```
git bisect start
git bisect bad
```
2. Откатываемся на рабочее состояние проекта как пример на 10 коммитов назад по истории
```
git bisect good HEAD~10
```
3. Смотрим проявиться ли баг в текущем состоянии. Допустим, сейчас с проектом все хорошо. Поэтому продолжаем поиск дальше
```
git bisect good
```
(перемотка состояния в середину, между хорошим и плохим коммитом. Сейчас мы находимся в 5 коммитах назад по истории, с каждой такой итерацией расстояние уменьшиться в два раза) 
4. После завершения поиска сбрасываем репозиторий в исходное состояние.
```
git bisect reset
```

### Что такое хуки?
Git Hooks - скрипты оболочки, которые запускаются автоматически до или после того, как Git выполнит важную команду, такую как commit или push 
Hooks (хуки) хранятся в папке .git/hooks (данная папка создаётся при инициализации репозитория, что бы посмотреть скрытые папки используем ls -la )
[Примеры использования](https://www.hostinger.ru/rukovodstva/kak-ispolzovat-git-hooks/)
